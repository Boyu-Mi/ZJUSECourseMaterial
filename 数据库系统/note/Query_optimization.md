# Query_optimization 查询优化

### 查询等价规律

![image-20220514154618246](E:\typorapic\image-20220514154618246.png)

![image-20220514155201500](E:\typorapic\image-20220514155201500.png)

![image-20220514155222187](E:\typorapic\image-20220514155222187.png)

![image-20220514160229198](E:\typorapic\image-20220514160229198.png)

![image-20220514160300555](E:\typorapic\image-20220514160300555.png)

![image-20220514160406374](E:\typorapic\image-20220514160406374.png)

重要的启发式规则：

尽可能早地进行投影操作，**大概率**可以节省时间开销。

### 确定join顺序

n个关系作连接运算，顺序有$\frac{2(n-1)!}{(n-1)!}$种。(不可接受)

解决：

1. 左深树

   若干关系的连接运算可用二叉树表示。构建左深树：所有非叶节点的右孩子均直接为关系。仅在满足左深树条件的顺序内进行搜索，从而减少所需考虑的情况数。

2. 动态规划

## 基于统计信息的代价估算



